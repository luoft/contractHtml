<!DOCTYPE html>
<html class="x-admin-sm">

	<head>
		<meta charset="UTF-8">
		<title>欢迎页面-X-admin2.1</title>
		<meta name="renderer" content="webkit">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width,user-scalable=yes, minimum-scale=0.4, initial-scale=0.8,target-densitydpi=low-dpi" />
		<link rel="stylesheet" href="../../../css/font.css">
		<link rel="stylesheet" href="../../../css/xadmin.css">
		<script type="text/javascript" src="../../../js/jqery/jquery-3.4.1.js"></script>
		<script type="text/javascript" src="../../../lib/layui/layui.js" charset="utf-8"></script>
		<script type="text/javascript" src="../../../js/xadmin.js"></script>
		<script type="text/javascript" src="../../../js/cookie.js"></script>
		<script type="text/jscript" src="../../../js/echarts.min.js"></script>
		<!-- 让IE8/9支持媒体查询，从而兼容栅格 -->
		<!--[if lt IE 9]>
      <script src="https://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
      <script src="https://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
	</head>

	<body class="">
		<div class="x-nav" id="bar">

			<span class="layui-breadcrumb" lay-separator="|">
				<a href="../clerk-list.html">行员信息</a>
				<a href="statistic-view.html">行员结构分析</a>
				<a href="cadreAllocation.html">干部配备情况</a>
				<a href="fundamental-status.html">干部基本情况</a>
				<a href="">提任领导</a>
				<a href="">年度评价</a>
				<a href="">综艺</a>
			</span>
			<a class="layui-btn layui-btn-small" style="line-height:1.6em;margin-top:3px;float:right" href="javascript:location.replace(location.href);"
			 title="刷新">
				<i class="layui-icon" style="line-height:30px">ဂ</i></a>
		</div>
			<!-- 图表区域-->
			<div class="x-body">
				<div class="layui-row">
					<form class="layui-form layui-col-md12 x-so">
						<div class="layui-inline">


						<!-- 选择类型 -->
						<div class="layui-inline">
							<label class="layui-form-label">类型</label>
							<div class="layui-input-inline">
								<select name="modules" lay-verify="required" lay-search="">
									<option value="">直接选择或搜索选择</option>
									<option value="1">年龄段</option>
									<option value="2">性别比例</option>
									<option value="3">职位/职级</option>
									<option value="4">职称</option>
									<option value="5">学历</option>
									<option value="6">岗位结构</option>
								</select>
							</div>
						</div>
							<!-- 查询按钮 -->
							<div class="layui-input-inline">
								<button class="layui-btn" lay-submit="" lay-filter="sreach"><i class="layui-icon">&#xe615;</i>生成图表</button>
							</div>
				</div>
				</form>
			</div>

			<div class="layui-row">
				<div class="layui-col-xs6">
					<div class="grid-demo grid-demo-bg1">
						<!-- 显示具体数据 -->
						<table class="layui-table" lay-data="{url:'test.json',page:true,toolbar: '#toolbarDemo',id:'test'}" lay-filter="test">
						  <thead>
						    <tr>
						      <th lay-data="{type:'radio'}">ID</th>
						      <th lay-data="{field:'id', sort: true}">ID</th>
						      <th lay-data="{field:'typeName', sort: true}">类型</th>
						      <th lay-data="{field:'number'}">人数</th>
						      <th lay-data="{field:'percentage'}">百分比</th>
						  </thead>
						</table>
					</div>
				</div>
				<div class="layui-col-xs6">
					<div class="grid-demo">
						<div id="pie" style="width:100%;height:450px;"></div>
						</div>
					</div>
				</div>
			</div>



		<!-- JS部分 -->
		<script type="text/jscript">
			
			var promise = new Promise((resolve,rehect) => {
				var  myChar =	echarts.init(document.getElementById('pie'));
				
				//默认初始数据
				var  option = {
					type:'pie',
					name:'年龄段统计',
				    title: {
				        text: '全疆行员统计分析图',
				        subtext: '按年龄段分析',
				        left: 'center'
				    },
				    tooltip : {
						show:true,
				        trigger: 'item',
				        formatter: "{a} <br/>{b} : {c} ({d}%)"
				    },
				    legend: {
				        // orient: 'vertical',
				        // top: 'middle',
				        bottom: 10,
				        left: 'center',
				        data: ['50岁以上', '45-50岁','30-45岁','30-40岁','25-30岁']
				    },
				    series : [
				        {
				            type: 'pie',
				            radius : '65%',
				            center: ['50%', '50%'],
				            selectedMode: 'single',
				            data:[
				                {
				                    value:100,
				                    name: '25-30岁',
									
				                    label: {
				                        normal: {
				                           
				                            backgroundColor: '#eee',
				                            borderColor: '#777',
				                            borderWidth: 1,
				                            borderRadius: 4,
				                            rich: {
				                                title: {
				                                    color: '#eee',
				                                    align: 'center'
				                                },
				                                abg: {
				                                    backgroundColor: '#333',
				                                    width: '100%',
				                                    align: 'right',
				                                    height: 25,
				                                    borderRadius: [4, 4, 0, 0]
				                                },
				                                Sunny: {
				                                    height: 30,
				                                    align: 'left',
				                                    
				                                },
				                                Cloudy: {
				                                    height: 30,
				                                    align: 'left',
				                                   
				                                },
				                                Showers: {
				                                    height: 30,
				                                    align: 'left',
				                                   
				                                },
				                                weatherHead: {
				                                    color: '#333',
				                                    height: 24,
				                                    align: 'left'
				                                },
				                                hr: {
				                                    borderColor: '#777',
				                                    width: '100%',
													height:80,
				                                    borderWidth: 0.5,
				                                    height: 0
				                                },
				                                value: {
				                                    width: 20,
				                                    padding: [0, 20, 0, 30],
				                                    align: 'left'
				                                },
				                                valueHead: {
				                                    color: '#333',
				                                    width: 20,
				                                    padding: [0, 20, 0, 30],
				                                    align: 'center'
				                                },
				                                rate: {
				                                    width: 40,
				                                    align: 'right',
				                                    padding: [0, 10, 0, 0]
				                                },
				                                rateHead: {
				                                    color: '#333',
				                                    width: 40,
				                                    align: 'center',
				                                    padding: [0, 10, 0, 0]
				                                }
				                            }
				                        }
				                    }
				                },
				                {value:535, name: '30-40岁'},
				                {value:510, name: '40-45岁'},
				                {value:634, name: '45-50岁'},
				                {value:735, name: '50岁以上'}
				            ],
				            itemStyle: {
				                emphasis: {
				                    shadowBlur: 10,
				                    shadowOffsetX: 0,
				                    shadowColor: 'rgba(0, 0, 0, 0.5)'
				                }
				            }
				        }
				    ]
				};
				
				
				
				        myChar.setOption(option);
						// 绘制图表。饼状
							myChar.on('finished', function () {
								resolve();
							});
			});
			
		
			 // 渲染完成后执行then()方法的操作代码 
			    promise.then(() => {
			        console.log("此处编写想要书写的函数");
			    });  
			
				
		</script>
		<script>
			layui.use('table', function() {
				var table = layui.table;

				//监听单元格编辑
				table.on('edit(test)', function(obj) {
					var value = obj.value //得到修改后的值
						,
						data = obj.data //得到所在行所有键值
						,
						field = obj.field; //得到字段
					layer.msg('[ID: ' + data.id + '] ' + field + ' 字段更改为：' + value);
				});

				//头工具栏事件
				table.on('toolbar(test)', function(obj) {
					var checkStatus = table.checkStatus(obj.config.id);
					switch (obj.event) {
						case 'getCheckData':
							var data = checkStatus.data;
							layer.alert(JSON.stringify(data));
							break;
						case 'getCheckLength':
							var data = checkStatus.data;
							layer.msg('选中了：' + data.length + ' 个');
							break;
						case 'isAll':
							layer.msg(checkStatus.isAll ? '全选' : '未全选');
							break;
					};
				});
			});
		</script>

	</body>

</html>
